                                        # ====================================
# RentHub Backend - Production Environment
# ====================================
# SECURITY: Never commit this file with actual values!
# Use Laravel Forge Environment Variables or AWS SSM Parameter Store

# --- Application Core ---
APP_NAME=RentHub
APP_ENV=production
APP_KEY=base64:GENERATE_WITH_php_artisan_key:generate
APP_DEBUG=false
APP_TIMEZONE=UTC
APP_URL=https://renthub-tbj7yxj7.on-forge.com
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

# --- Security ---
APP_MAINTENANCE_DRIVER=file
BCRYPT_ROUNDS=12
LOG_CHANNEL=stack
LOG_STACK=single,sentry
LOG_LEVEL=warning
LOG_DEPRECATIONS_CHANNEL=null

# --- Database (PostgreSQL on Forge/AWS RDS) ---
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=forge
DB_USERNAME=forge
DB_PASSWORD=SECURE_PASSWORD_FROM_FORGE

# Database Pool Configuration
DB_PERSISTENT=true
DB_TIMEOUT=30
DB_POOL_MAX_CONNECTIONS=20
DB_POOL_MIN_CONNECTIONS=5
DB_POOL_CONNECTION_TIMEOUT=30
DB_POOL_IDLE_TIMEOUT=300

# --- Cache & Session (Redis) ---
CACHE_STORE=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_DOMAIN=.renthub.international

REDIS_CLIENT=predis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=REDIS_PASSWORD_FROM_FORGE
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2

# --- Queue ---
QUEUE_CONNECTION=redis
QUEUE_FAILED_DRIVER=database-uuids

# --- Mail (SendGrid Production) ---
MAIL_MAILER=smtp
MAIL_HOST=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=SG.PRODUCTION_API_KEY_HERE
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@renthub.international
MAIL_FROM_NAME="${APP_NAME}"

# --- AWS Services ---
AWS_ACCESS_KEY_ID=PRODUCTION_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=PRODUCTION_AWS_SECRET_KEY
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=renthub-production-uploads
AWS_USE_PATH_STYLE_ENDPOINT=false
AWS_URL=https://renthub-production-uploads.s3.us-east-1.amazonaws.com

# --- Search (Meilisearch) ---
SCOUT_DRIVER=meilisearch
MEILISEARCH_HOST=http://127.0.0.1:7700
MEILISEARCH_KEY=PRODUCTION_MASTER_KEY_HERE
MEILISEARCH_INDEX_SETTINGS=true

# --- Broadcasting (Laravel Reverb) ---
BROADCAST_CONNECTION=reverb
REVERB_APP_ID=renthub-prod
REVERB_APP_KEY=GENERATE_RANDOM_32_CHARS
REVERB_APP_SECRET=GENERATE_RANDOM_64_CHARS
REVERB_HOST=renthub-tbj7yxj7.on-forge.com
REVERB_PORT=8080
REVERB_SCHEME=https
REVERB_ALLOWED_ORIGINS=https://renthub.international

# Pusher (Fallback/Alternative)
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_APP_CLUSTER=mt1
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# Pusher Beams (Web Push Notifications)
PUSHER_BEAMS_INSTANCE_ID=PRODUCTION_INSTANCE_ID
PUSHER_BEAMS_SECRET_KEY=PRODUCTION_SECRET_KEY

# --- Payment Gateways ---
# Stripe
STRIPE_KEY=pk_live_PRODUCTION_PUBLISHABLE_KEY
STRIPE_SECRET=sk_live_PRODUCTION_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_PRODUCTION_WEBHOOK_SECRET

# PayPal (if enabled)
PAYPAL_MODE=live
PAYPAL_CLIENT_ID=PRODUCTION_CLIENT_ID
PAYPAL_SECRET=PRODUCTION_SECRET

# --- SMS (Twilio) ---
TWILIO_SID=PRODUCTION_ACCOUNT_SID
TWILIO_AUTH_TOKEN=PRODUCTION_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# --- Social Authentication (OAuth) ---
# Google
GOOGLE_CLIENT_ID=PRODUCTION_GOOGLE_CLIENT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=PRODUCTION_GOOGLE_CLIENT_SECRET
GOOGLE_REDIRECT_URI=https://renthub-tbj7yxj7.on-forge.com/auth/google/callback

# Facebook
FACEBOOK_CLIENT_ID=PRODUCTION_FACEBOOK_APP_ID
FACEBOOK_CLIENT_SECRET=PRODUCTION_FACEBOOK_APP_SECRET
FACEBOOK_REDIRECT_URI=https://renthub-tbj7yxj7.on-forge.com/auth/facebook/callback

# --- Monitoring & Error Tracking ---
SENTRY_LARAVEL_DSN=https://PUBLIC_KEY@o123456.ingest.sentry.io/PROJECT_ID
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.05
SENTRY_ENVIRONMENT=production

# --- Filament Admin Panel ---
FILAMENT_FILESYSTEM_DISK=public
FILAMENT_PATH=admin

# --- CORS & API ---
SANCTUM_STATEFUL_DOMAINS=renthub.international,www.renthub.international
SESSION_DOMAIN=.renthub.international
CORS_ALLOWED_ORIGINS=https://renthub.international,https://www.renthub.international
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# --- Rate Limiting ---
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_API_THROTTLE=100

# --- Web Push (VAPID Keys) ---
# Generate with: php artisan tinker -> \Minishlink\WebPush\VAPID::createVapidKeys()
VAPID_PUBLIC_KEY=GENERATE_PUBLIC_KEY
VAPID_PRIVATE_KEY=GENERATE_PRIVATE_KEY

# --- Feature Flags ---
FEATURE_PAYMENTS_ENABLED=true
FEATURE_MESSAGING_ENABLED=true
FEATURE_REVIEWS_ENABLED=true
FEATURE_BOOKING_ENABLED=true
FEATURE_CONCIERGE_ENABLED=false
FEATURE_INSURANCE_ENABLED=false

# --- Performance & Optimization ---
OCTANE_SERVER=roadrunner
VIEW_CACHE_PATH=/home/forge/renthub-tbj7yxj7.on-forge.com/storage/framework/views
OPTIMIZE_AUTOLOAD=true
CACHE_PREFIX=renthub_prod

# --- Backup ---
BACKUP_ENABLED=true
BACKUP_DESTINATION=s3
BACKUP_RETENTION_DAYS=30

# --- Admin Credentials (Change after first deployment!) ---
# Default admin: admin@renthub.com / Admin@123456
# MUST rotate password immediately after first login!
