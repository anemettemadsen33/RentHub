self.__WB_DISABLE_DEV_LOGS=!0,self.addEventListener("message",t=>{if(!t.data)return;const{command:n}=t.data;"SKIP_WAITING"===n&&self.skipWaiting()}),self.addEventListener("push",t=>{if(!t.data)return;let n={};try{n=t.data.json()}catch(i){n={title:"RentHub",body:t.data.text()}}const i=n.title||"RentHub",o={body:n.body||"You have a new notification",icon:"/icons/icon-192.png",badge:"/icons/icon-192.png",data:n.data||{},actions:n.actions||[]};t.waitUntil(self.registration.showNotification(i,o))}),self.addEventListener("notificationclick",t=>{var n;t.notification.close();const i=(null===(n=t.notification.data)||void 0===n?void 0:n.url)||"/";t.waitUntil((async()=>{try{fetch("/api/v1/analytics/pwa",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"push_notification_clicked",url:i})})}catch(t){}const t=await clients.matchAll({includeUncontrolled:!0,type:"window"});for(const n of t)if(n.url===i&&"focus"in n)return n.focus();if(clients.openWindow)return clients.openWindow(i)})())});