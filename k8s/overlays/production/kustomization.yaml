apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: renthub

bases:
- ../../

commonLabels:
  environment: production

replicas:
- name: backend
  count: 5
- name: frontend
  count: 5
- name: queue-worker
  count: 3

images:
- name: renthub/backend
  newTag: v1.0.0
- name: renthub/frontend
  newTag: v1.0.0

# Production-specific patches
patchesStrategicMerge:
- backend-resources.yaml
- frontend-resources.yaml

configMapGenerator:
- name: renthub-config
  behavior: merge
  literals:
  - APP_ENV=production
  - APP_DEBUG=false
