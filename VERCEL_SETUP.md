# Complete Vercel Deployment Setup for RentHub

## Current Status
✅ Frontend is **COMPLETE** and ready for deployment
✅ All 27 pages build successfully
✅ All components are properly implemented
✅ Build artifacts are generated correctly

## Step-by-Step Deployment Guide

### 1. Import Project to Vercel

1. Go to [Vercel Dashboard](https://vercel.com/dashboard)
2. Click "Add New..." → "Project"
3. Select your GitHub repository: `anemettemadsen33/RentHub`

### 2. **CRITICAL: Configure Root Directory**

⚠️ **This is the most important step!**

In the project configuration:

- **Framework Preset**: Next.js (should auto-detect)
- **Root Directory**: `frontend` ← **MUST BE SET**
- **Build Command**: `npm run build` (auto-detected)
- **Output Directory**: `.next` (auto-detected)
- **Install Command**: `npm install` (auto-detected)

**Screenshot example:**
```
Root Directory: [frontend     ] ← Click "Edit" and type "frontend"
```

### 3. Configure Environment Variables

Click "Environment Variables" and add the following:

#### Required Variables:
```bash
# Backend API URL - Replace with your actual backend URL
NEXT_PUBLIC_API_URL=https://your-backend-api.com

# Site URL - Will be auto-generated by Vercel, or use custom domain
NEXT_PUBLIC_SITE_URL=https://your-app.vercel.app

# NextAuth Configuration
NEXTAUTH_URL=https://your-app.vercel.app
NEXTAUTH_SECRET=your-secret-key-here
```

#### Optional Variables:
```bash
# Mapbox (for map features)
NEXT_PUBLIC_MAPBOX_TOKEN=your-mapbox-token

# Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=your-ga-id

# Feature Flags
NEXT_PUBLIC_AMP_ENABLED=false
NEXT_PUBLIC_ENABLE_PWA=true
NEXT_PUBLIC_ENABLE_ANALYTICS=false
```

#### Generate NEXTAUTH_SECRET:
```bash
# Run this locally to generate a secure secret:
openssl rand -base64 32
```

### 4. Deploy

1. Click "Deploy"
2. Wait for build to complete (~2-3 minutes)
3. Vercel will provide you with a URL like: `https://rent-hub-xxxxx.vercel.app`

### 5. Update Environment Variables with Actual URLs

After first deployment:
1. Note your Vercel deployment URL
2. Go to Project Settings → Environment Variables
3. Update these variables with your actual Vercel URL:
   - `NEXT_PUBLIC_SITE_URL` → `https://your-actual-url.vercel.app`
   - `NEXTAUTH_URL` → `https://your-actual-url.vercel.app`

### 6. Configure Backend CORS

Update your Laravel backend to allow requests from Vercel:

**backend/config/cors.php:**
```php
'allowed_origins' => [
    'https://your-vercel-url.vercel.app',
],
```

**backend/.env:**
```env
FRONTEND_URL=https://your-vercel-url.vercel.app
SANCTUM_STATEFUL_DOMAINS=your-vercel-url.vercel.app
```

### 7. Redeploy (if needed)

If you made changes to environment variables:
1. Go to Deployments tab
2. Click "..." on the latest deployment
3. Click "Redeploy"

## Troubleshooting

### Build Fails on Vercel

**Error: "No such file or directory"**
- ✅ **Solution**: Ensure Root Directory is set to `frontend`

**Error: "Cannot find module"**
- ✅ **Solution**: Check package.json dependencies are correct
- Run `npm install` locally to verify

### Pages Show 404

**Problem**: Routes return 404 errors
- ✅ **Solution**: Ensure Next.js is configured correctly
- Check that `next.config.ts` has proper settings

### API Calls Fail

**Error**: "Network Error" or CORS errors
- ✅ **Solution**: 
  1. Verify `NEXT_PUBLIC_API_URL` is set correctly
  2. Update backend CORS configuration
  3. Ensure backend accepts requests from Vercel domain

### Authentication Doesn't Work

**Problem**: Login/logout fails
- ✅ **Solution**:
  1. Verify `NEXTAUTH_SECRET` is set
  2. Verify `NEXTAUTH_URL` matches your Vercel URL
  3. Check backend authentication endpoints are accessible

## Verification Checklist

After deployment, verify these pages work:

- [ ] Homepage: `https://your-app.vercel.app/`
- [ ] Properties: `https://your-app.vercel.app/properties`
- [ ] Login: `https://your-app.vercel.app/auth/login`
- [ ] Register: `https://your-app.vercel.app/auth/register`
- [ ] Owner Dashboard: `https://your-app.vercel.app/owner/dashboard`
- [ ] Tenant Dashboard: `https://your-app.vercel.app/tenant/dashboard`

## Available Pages (All 27 Routes)

✅ All pages are complete and ready:

1. `/` - Homepage
2. `/auth/login` - Login page
3. `/auth/register` - Registration page
4. `/auth/forgot-password` - Password recovery
5. `/auth/reset-password` - Password reset
6. `/properties` - Property listings
7. `/properties/[id]` - Property details (dynamic)
8. `/bookings` - Bookings list
9. `/bookings/[id]` - Booking details (dynamic)
10. `/bookings/new` - Create booking
11. `/messages` - Messages/chat
12. `/notifications` - Notifications
13. `/profile` - User profile (NEW!)
14. `/profile/complete-wizard` - Profile completion
15. `/owner/dashboard` - Owner dashboard
16. `/owner/properties` - Owner's properties
17. `/owner/properties/new` - Add new property
18. `/owner/properties/[id]/calendar` - Property calendar (dynamic)
19. `/tenant/dashboard` - Tenant dashboard
20. `/wishlists` - User wishlists
21. `/saved-searches` - Saved searches
22. `/reviews` - Reviews
23. `/compare` - Property comparison
24. `/verification` - Account verification
25. `/components-demo` - Component showcase
26. `/robots.txt` - SEO robots file
27. `/sitemap.xml` - SEO sitemap
23. `/verification` - Account verification
24. `/components-demo` - Component showcase
25. `/robots.txt` - SEO robots file
26. `/sitemap.xml` - SEO sitemap

## Performance Optimization

Vercel automatically provides:
- ✅ Global CDN
- ✅ Edge caching
- ✅ Image optimization
- ✅ Automatic HTTPS
- ✅ Serverless functions
- ✅ ISR (Incremental Static Regeneration)

## Custom Domain (Optional)

1. Go to Project Settings → Domains
2. Add your custom domain (e.g., `renthub.com`)
3. Follow DNS configuration instructions
4. Update environment variables with new domain

## Automatic Deployments

Vercel automatically deploys:
- **Production**: Every push to `main` branch
- **Preview**: Every push to other branches and PRs

## Support

- [Vercel Documentation](https://vercel.com/docs)
- [Next.js Deployment](https://nextjs.org/docs/deployment)
- [GitHub Issues](https://github.com/anemettemadsen33/RentHub/issues)

---

## Quick Start Commands

```bash
# Clone repository
git clone https://github.com/anemettemadsen33/RentHub.git
cd RentHub/frontend

# Install dependencies
npm install

# Build for production (test locally)
npm run build

# Start production server locally
npm start
```

## Need Help?

If you encounter any issues:
1. Check this guide thoroughly
2. Verify all environment variables are set
3. Check Vercel build logs in the dashboard
4. Review backend CORS settings
5. Open an issue on GitHub with error details

**Remember**: The frontend is **complete and fully functional**. Any deployment issues are typically related to configuration, not missing code.
